<div class="backdrop"></div>
<header class="main-header">
    <button id="side-menu-toggle">Menu</button>
    <nav class="main-header__nav">
        <a href="/"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWdYrYoPZbkz2o-Cvb9cpnqVRTgYozkj4gyg&usqp=CAU" alt="" class="logo-img"></a>
        <ul class="main-header__item-list">
            <li class="main-header__item">
                <a class="<%= path === '/' ? 'active' : '' %>" href="/">Amalitech e-Cafeteria</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/products' ? 'active' : '' %>" href="/products">All Menu</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/products-today' ? 'active' : '' %>" href="/products-today">Today's</a>
            </li>
            <% if (isAuthenticated && ((user === undefined) ? false : user.usertype == 'system_admin')) { %>
                <li class="main-header__item">
                    <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
                </li>
                <li class="main-header__item">
                    <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
                </li>
                <li class="main-header__item" id='main-header__item-admin'>
                    <a href="#">Admin</a>
                    <!-- <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">Admin
                    </a> -->
                    <div class="dropdown-content">
                        <a class="<%= path === '/admin/users' ? 'active' : '' %>" href="/admin/users">Users Management</a>
                        <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">Menu Management</a>
                        <a class="<%= path === '/admin/coupons' ? 'active' : '' %>" href="/admin/coupons">Coupon Management</a>
                    </div>
                </li>
            <% } %>

            <% if (isAuthenticated && ((user === undefined) ? false : user.usertype == 'restaurant_owner')) { %>
                <li class="main-header__item">
                    <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
                </li>
                <li class="main-header__item">
                    <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
                </li>
                <li class="main-header__item">
                    <a class="<%= path === '/admin/users' ? 'active' : '' %>" href="/admin/users">Users Management</a>
                    <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">Menu Management</a>
                    <a class="<%= path === '/admin/coupons' ? 'active' : '' %>" href="/admin/coupons">Coupon Management</a>
                </li>
            <% } %>
        
            <% if (isAuthenticated && ((user === undefined) ? false : user.usertype == 'staff') || 
                    isAuthenticated && ((user === undefined) ? false : user.usertype == 'trainee')) { %>
                        
                <li class="main-header__item">
                    <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
                </li>
                <li class="main-header__item">
                    <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
                </li>
            <% } %>
        </ul>
        <ul class="main-header__item-list">
            <% if (!isAuthenticated) { %>
                <li class="main-header__item">
                    <a class="<%= path === '/login' ? 'active' : '' %>" href="/login">Login</a>
                </li>
                <li class="main-header__item">
                    <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup">Register</a>
                </li>
            <% } else { %>
                <li class="main-header__item">
                    <form action="/logout" method="post">
                        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                        <button type="submit">Logout</button>
                    </form>
                </li>
            <% } %>
        </ul>
    </nav>
</header>

<nav class="mobile-nav">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWdYrYoPZbkz2o-Cvb9cpnqVRTgYozkj4gyg&usqp=CAU" alt="" class="logo-img">
    <ul class="mobile-nav__item-list">
        <li class="mobile-nav__item">
            <a class="<%= path === '/' ? 'active' : '' %>" href="/">Amalitech e-Cafeteria</a>
        </li>
        <li class="mobile-nav__item">
            <a class="<%= path === '/products' ? 'active' : '' %>" href="/products">Menu</a> 
        </li>
        <% if (isAuthenticated && ((user === undefined) ? false : user.usertype == 'system_admin')) { %>
            <li class="mobile-nav__item">
                <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
            </li>
            <li class="mobile-nav__item">
                <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
            </li>
            <li class="main-header__item" id='main-header__item-admin'>
                <a href="#">Admin</a>
                <!-- <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">Admin
                </a> -->
                <div class="dropdown-content">
                    <a class="<%= path === '/admin/add-users' ? 'active' : '' %>" href="/admin/add-user">Add User</a>
                    <a class="<%= path === '/admin/users' ? 'active' : '' %>" href="/admin/users">Users Management</a>
                    <a class="<%= path === '/admin/create-coupon' ? 'active' : '' %>" href="/admin/create-coupon">Create Coupon</a>
                </div>
            </li>
        <% } %>

        <% if (isAuthenticated && ((user === undefined) ? false : user.usertype == 'restaurant_owner')) { %>
            <li class="mobile-nav__item">
                <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
            </li>
            <li class="mobile-nav__item">
                <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
            </li>
            <li class="mobile-nav__item">
                <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">Menu Management
                </a>
            </li>
        <% } %>
    
        <% if (isAuthenticated && ((user === undefined) ? false : user.usertype == 'staff') || 
                isAuthenticated && ((user === undefined) ? false : user.usertype == 'trainee')) { %>
            <li class="mobile-nav__item">
                <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
            </li>
            <li class="mobile-nav__item">
                <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders">Orders</a>
            </li>
        <% } %>

        <% if (!isAuthenticated) { %>
            <li class="mobile-nav__item">
                <a class="<%= path === '/login' ? 'active' : '' %>" href="/login">Login</a>
            </li>
            <li class="mobile-nav__item">
                <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup">Signup</a>
            </li>
        <% } else{ %>
            <li class="mobile-nav__item">
                <form action="/logout" method="post">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                    <button type="submit">Logout</button>
                </form>
            </li>
        <% } %>
    </ul>
</nav>